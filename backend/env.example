# IDEV Web3 Shipping Platform - Backend Environment Configuration
# ==============================================================
# Copy this file to .env and fill in your actual values

# Application Settings
APP_NAME="IDEV - منصة الشحن والتوصيل"
APP_VERSION="2.0.0"
APP_DESCRIPTION="منصة شحن وتوصيل متطورة مع تكامل Web3 والبلوك تشين"
APP_URL="http://localhost:5000"
API_URL="http://localhost:3000/api"

# Server Configuration
SERVER_ADDRESS=0.0.0.0:3000
PORT=3000
LOG_LEVEL=info
PROMETHEUS_PORT=9090
HEALTH_CHECK_PORT=3001

# Database Configuration
DATABASE_URL=postgresql://web3shipping:password@localhost:5432/web3_shipping_platform
DB_HOST=localhost
DB_PORT=5432
DB_NAME=web3_shipping_platform
DB_USER=web3shipping
DB_PASSWORD=password
DB_SSL=false
DB_POOL_MIN=2
DB_POOL_MAX=10

# Redis Configuration
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_TTL=3600

# JWT & Authentication Configuration
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRY=3600
JWT_REFRESH_EXPIRY=604800
SESSION_SECRET=your-session-secret-key-change-this-in-production
SESSION_COOKIE_NAME=idev_session
SESSION_MAX_AGE=86400000

# CORS Configuration
CORS_ORIGINS=http://localhost:3000,http://localhost:5173,http://localhost:8080,http://localhost:5000
CORS_CREDENTIALS=true
CORS_METHODS=GET,POST,PUT,DELETE,PATCH,OPTIONS
CORS_HEADERS=Content-Type,Authorization,X-Requested-With

# Web3 & Blockchain Configuration
# Ethereum Mainnet
ETHEREUM_RPC_URL=https://mainnet.infura.io/v3/your-project-id
ETHEREUM_CHAIN_ID=1
ETHEREUM_NETWORK_NAME=Ethereum Mainnet
ETHEREUM_PRIVATE_KEY=your-ethereum-private-key
ETHEREUM_CONTRACT_ADDRESS=0x1234567890123456789012345678901234567890

# Ethereum Testnet (Goerli)
ETHEREUM_TESTNET_RPC_URL=https://goerli.infura.io/v3/your-project-id
ETHEREUM_TESTNET_CHAIN_ID=5
ETHEREUM_TESTNET_NETWORK_NAME=Goerli Testnet

# Polygon Network
POLYGON_RPC_URL=https://polygon-rpc.com
POLYGON_CHAIN_ID=137
POLYGON_NETWORK_NAME=Polygon Mainnet
POLYGON_CONTRACT_ADDRESS=0x1234567890123456789012345678901234567890

# Binance Smart Chain
BSC_RPC_URL=https://bsc-dataseed.binance.org
BSC_CHAIN_ID=56
BSC_NETWORK_NAME=BSC Mainnet
BSC_CONTRACT_ADDRESS=0x1234567890123456789012345678901234567890

# Internet Computer Protocol (ICP)
ICP_CANISTER_ID=your-icp-canister-id
ICP_NETWORK_URL=https://ic0.app
ICP_LOCAL_URL=http://localhost:8000
ICP_IDENTITY_PROVIDER=https://identity.ic0.app

# Smart Contract Addresses
SHIPPING_CONTRACT_ADDRESS=0x1234567890123456789012345678901234567890
INSURANCE_CONTRACT_ADDRESS=0x1234567890123456789012345678901234567890
PAYMENT_CONTRACT_ADDRESS=0x1234567890123456789012345678901234567890
RATING_CONTRACT_ADDRESS=0x1234567890123456789012345678901234567890

# Cryptocurrency API Keys
COINGECKO_API_KEY=your-coingecko-api-key
COINMARKETCAP_API_KEY=your-coinmarketcap-api-key

# External Services
# Twilio (SMS)
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# SendGrid (Email)
SENDGRID_API_KEY=your-sendgrid-api-key
SENDGRID_FROM_EMAIL=noreply@idev-shipping.com
SENDGRID_FROM_NAME=IDEV Shipping Platform

# SMTP Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# AI Services
OPENAI_API_KEY=your-openai-api-key
ANTHROPIC_API_KEY=your-anthropic-api-key
GOOGLE_AI_API_KEY=your-google-ai-api-key

# Business Platform Integrations
# Shopify
SHOPIFY_API_KEY=your-shopify-api-key
SHOPIFY_API_SECRET=your-shopify-api-secret
SHOPIFY_WEBHOOK_SECRET=your-shopify-webhook-secret
SHOPIFY_STORE_URL=https://your-store.myshopify.com

# WooCommerce
WOCOMMERCE_URL=https://your-store.com
WOCOMMERCE_CONSUMER_KEY=your-woocommerce-consumer-key
WOCOMMERCE_CONSUMER_SECRET=your-woocommerce-consumer-secret

# Wix
WIX_API_KEY=your-wix-api-key
WIX_API_SECRET=your-wix-api-secret
WIX_SITE_ID=your-wix-site-id

# EasyOrder
EASYORDER_API_KEY=your-easyorder-api-key
EASYORDER_API_SECRET=your-easyorder-api-secret
EASYORDER_BASE_URL=https://api.easyorder.com

# Web3 & Blockchain Payment Gateway Configuration
# ================================================

# Ethereum Payment Gateway
ETHEREUM_PAYMENT_GATEWAY_ENABLED=true
ETHEREUM_PAYMENT_CONTRACT_ADDRESS=0x1234567890123456789012345678901234567890
ETHEREUM_PAYMENT_GAS_LIMIT=21000
ETHEREUM_PAYMENT_GAS_PRICE=20000000000
ETHEREUM_PAYMENT_CONFIRMATION_BLOCKS=12
ETHEREUM_PAYMENT_TIMEOUT=300000

# Polygon Payment Gateway
POLYGON_PAYMENT_GATEWAY_ENABLED=true
POLYGON_PAYMENT_CONTRACT_ADDRESS=0x1234567890123456789012345678901234567890
POLYGON_PAYMENT_GAS_LIMIT=21000
POLYGON_PAYMENT_GAS_PRICE=30000000000
POLYGON_PAYMENT_CONFIRMATION_BLOCKS=30
POLYGON_PAYMENT_TIMEOUT=300000

# Binance Smart Chain Payment Gateway
BSC_PAYMENT_GATEWAY_ENABLED=true
BSC_PAYMENT_CONTRACT_ADDRESS=0x1234567890123456789012345678901234567890
BSC_PAYMENT_GAS_LIMIT=21000
BSC_PAYMENT_GAS_PRICE=5000000000
BSC_PAYMENT_CONFIRMATION_BLOCKS=15
BSC_PAYMENT_TIMEOUT=300000

# Internet Computer Protocol (ICP) Payment Gateway
ICP_PAYMENT_GATEWAY_ENABLED=true
ICP_PAYMENT_CANISTER_ID=your-icp-payment-canister-id
ICP_PAYMENT_CYCLES=1000000000
ICP_PAYMENT_TIMEOUT=60000
ICP_PAYMENT_RETRY_ATTEMPTS=3

# Multi-Chain Payment Router
MULTI_CHAIN_PAYMENT_ROUTER_ENABLED=true
MULTI_CHAIN_ROUTER_CONTRACT_ADDRESS=0x1234567890123456789012345678901234567890
MULTI_CHAIN_ROUTER_GAS_LIMIT=100000
MULTI_CHAIN_ROUTER_GAS_PRICE=20000000000

# Cross-Chain Bridge Configuration
CROSS_CHAIN_BRIDGE_ENABLED=true
CROSS_CHAIN_BRIDGE_CONTRACT_ADDRESS=0x1234567890123456789012345678901234567890
CROSS_CHAIN_BRIDGE_GAS_LIMIT=200000
CROSS_CHAIN_BRIDGE_GAS_PRICE=30000000000

# Stablecoin Payment Support
USDT_PAYMENT_ENABLED=true
USDT_CONTRACT_ADDRESS=0xdAC17F958D2ee523a2206206994597C13D831ec7
USDC_PAYMENT_ENABLED=true
USDC_CONTRACT_ADDRESS=0xA0b86a33E6441b8C4C8C0C8C0C8C0C8C0C8C0C8C
DAI_PAYMENT_ENABLED=true
DAI_CONTRACT_ADDRESS=0x6B175474E89094C44Da98b954EedeAC495271d0F

# DeFi Payment Integration
DEFI_PAYMENT_ENABLED=true
DEFI_PROTOCOL_ADDRESS=0x1234567890123456789012345678901234567890
DEFI_LIQUIDITY_POOL_ADDRESS=0x1234567890123456789012345678901234567890
DEFI_STAKING_REWARDS_ENABLED=true

# NFT Payment Support
NFT_PAYMENT_ENABLED=true
NFT_CONTRACT_ADDRESS=0x1234567890123456789012345678901234567890
NFT_PAYMENT_METHODS=ERC721,ERC1155,ICP_NFT

# Smart Contract Payment Escrow
PAYMENT_ESCROW_ENABLED=true
ESCROW_CONTRACT_ADDRESS=0x1234567890123456789012345678901234567890
ESCROW_RELEASE_CONDITIONS=delivery_confirmed,time_based
ESCROW_TIMEOUT_DURATION=604800

# Decentralized Exchange Integration
DEX_PAYMENT_ENABLED=true
DEX_ROUTER_ADDRESS=0x1234567890123456789012345678901234567890
DEX_SLIPPAGE_TOLERANCE=0.5
DEX_DEADLINE=1800

# Layer 2 Payment Solutions
LAYER2_PAYMENT_ENABLED=true
OPTIMISM_PAYMENT_ENABLED=true
ARBITRUM_PAYMENT_ENABLED=true
POLYGON_ZKEVM_PAYMENT_ENABLED=true

# Payment Token Configuration
PAYMENT_TOKENS=BTC,ETH,USDT,USDC,DAI,MATIC,BNB,ICP
PAYMENT_TOKEN_DECIMALS=18
PAYMENT_TOKEN_SYMBOLS=BTC,ETH,USDT,USDC,DAI,MATIC,BNB,ICP

# Payment Security & Validation
PAYMENT_VALIDATION_ENABLED=true
PAYMENT_SIGNATURE_VERIFICATION=true
PAYMENT_DOUBLE_SPEND_PROTECTION=true
PAYMENT_REPLAY_ATTACK_PROTECTION=true

# Payment Analytics & Monitoring
PAYMENT_ANALYTICS_ENABLED=true
PAYMENT_METRICS_COLLECTION=true
PAYMENT_PERFORMANCE_MONITORING=true
PAYMENT_ERROR_TRACKING=true

# Payment Webhook Configuration
PAYMENT_WEBHOOK_ENABLED=true
PAYMENT_WEBHOOK_SECRET=your-payment-webhook-secret
PAYMENT_WEBHOOK_TIMEOUT=30000
PAYMENT_WEBHOOK_RETRY_ATTEMPTS=3

# Payment Rate Limiting
PAYMENT_RATE_LIMIT_ENABLED=true
PAYMENT_RATE_LIMIT_REQUESTS=100
PAYMENT_RATE_LIMIT_WINDOW=60
PAYMENT_RATE_LIMIT_SKIP_SUCCESSFUL=false

# Payment Fee Configuration
PAYMENT_FEE_ENABLED=true
PAYMENT_FEE_PERCENTAGE=0.5
PAYMENT_FEE_MINIMUM=0.001
PAYMENT_FEE_MAXIMUM=0.1
PAYMENT_FEE_CURRENCY=ETH

# Payment Refund Configuration
PAYMENT_REFUND_ENABLED=true
PAYMENT_REFUND_TIMEOUT=86400
PAYMENT_REFUND_GAS_LIMIT=50000
PAYMENT_REFUND_GAS_PRICE=20000000000

# Payment Settlement Configuration
PAYMENT_SETTLEMENT_ENABLED=true
PAYMENT_SETTLEMENT_BATCH_SIZE=100
PAYMENT_SETTLEMENT_INTERVAL=3600
PAYMENT_SETTLEMENT_CONFIRMATION_BLOCKS=12

# Payment Compliance & KYC
PAYMENT_KYC_ENABLED=true
PAYMENT_AML_ENABLED=true
PAYMENT_SANCTIONS_CHECK=true
PAYMENT_TRANSACTION_LIMITS=10000

# Payment Integration APIs
PAYMENT_API_VERSION=v1
PAYMENT_API_RATE_LIMIT=1000
PAYMENT_API_TIMEOUT=30000
PAYMENT_API_RETRY_ATTEMPTS=3

# Payment Testing & Development
PAYMENT_TEST_MODE=true
PAYMENT_TEST_NETWORKS=goerli,mumbai,bsc-testnet
PAYMENT_TEST_TOKENS=test-eth,test-usdt,test-usdc
PAYMENT_TEST_AMOUNTS=0.001,0.01,0.1

# Payment Production Settings (uncomment for production)
# PAYMENT_TEST_MODE=false
# PAYMENT_TEST_NETWORKS=
# PAYMENT_TEST_TOKENS=
# PAYMENT_TEST_AMOUNTS=
# PAYMENT_FEE_PERCENTAGE=0.3
# PAYMENT_FEE_MINIMUM=0.0001
# PAYMENT_FEE_MAXIMUM=0.05

# Security Configuration
ENCRYPTION_KEY=your-32-character-encryption-key-change-this-in-production
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false
RATE_LIMIT_SKIP_FAILED_REQUESTS=false

# File Storage Configuration
# AWS S3
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
AWS_REGION=us-east-1
AWS_BUCKET_NAME=idev-shipping-platform
AWS_ENDPOINT=https://s3.amazonaws.com

# Local Storage
UPLOAD_PATH=./uploads
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=jpg,jpeg,png,gif,pdf,doc,docx,xls,xlsx

# Image Processing
IMAGE_QUALITY=80
IMAGE_MAX_WIDTH=1920
IMAGE_MAX_HEIGHT=1080
IMAGE_THUMBNAIL_SIZE=300

# Maps & Location Services
GOOGLE_MAPS_API_KEY=your-google-maps-api-key
GOOGLE_MAPS_GEOCODING_API_KEY=your-google-geocoding-api-key

# Analytics & Monitoring
GOOGLE_ANALYTICS_ID=GA-XXXXXXXXX
SENTRY_DSN=your-sentry-dsn
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# Logging Configuration
LOG_LEVEL=info
LOG_FILE_PATH=./logs/app.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5
LOG_DATE_PATTERN=YYYY-MM-DD

# Cache Configuration
CACHE_TTL=3600
CACHE_MAX_SIZE=100
CACHE_CHECK_PERIOD=120

# Backup Configuration
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_PATH=./backups
BACKUP_COMPRESSION=true

# Notification Settings
PUSH_NOTIFICATION_KEY=your-push-notification-key
FCM_SERVER_KEY=your-fcm-server-key
APNS_KEY_ID=your-apns-key-id
APNS_TEAM_ID=your-apns-team-id

# Webhook Configuration
WEBHOOK_SECRET=your-webhook-secret
WEBHOOK_TIMEOUT=30000
WEBHOOK_RETRY_ATTEMPTS=3

# Feature Flags
ENABLE_WEB3_FEATURES=true
ENABLE_AI_FEATURES=true
ENABLE_ANALYTICS=true
ENABLE_NOTIFICATIONS=true
ENABLE_FILE_UPLOAD=true
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_SMS_NOTIFICATIONS=true

# Development Configuration
NODE_ENV=development
RUST_LOG=debug
DEBUG_MODE=true
HOT_RELOAD=true
SOURCE_MAPS=true

# Testing Configuration
TEST_DATABASE_URL=postgresql://web3shipping:password@localhost:5432/web3_shipping_platform_test
TEST_REDIS_URL=redis://localhost:6379/1
TEST_MODE=false

# Production Settings (uncomment for production)
# NODE_ENV=production
# RUST_LOG=info
# DEBUG_MODE=false
# HOT_RELOAD=false
# SOURCE_MAPS=false
# JWT_SECRET=your-production-jwt-secret
# SESSION_SECRET=your-production-session-secret
# ENCRYPTION_KEY=your-production-encryption-key
# DATABASE_URL=postgresql://prod_user:prod_password@prod_host:5432/web3_shipping_platform_prod
# REDIS_URL=redis://prod_host:6379
# SMTP_USER=production-email@your-domain.com
# SMTP_PASS=production-email-password
# STRIPE_PUBLISHABLE_KEY=pk_live_your-stripe-publishable-key
# STRIPE_SECRET_KEY=sk_live_your-stripe-secret-key
# GOOGLE_MAPS_API_KEY=your-production-google-maps-key
# GOOGLE_ANALYTICS_ID=GA-PRODUCTION-ID
# SENTRY_DSN=your-production-sentry-dsn
# CORS_ORIGINS=https://your-domain.com,https://api.your-domain.com
